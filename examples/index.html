<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tomato - The Human-Friendly CSS Preprocessor</title>
  <meta name="description"
    content="Write CSS like you think. Components, Tailwind colors, and human-readable syntax. Fresh styles, no ketchup required.">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Instrument+Sans:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500;700&display=swap"
    rel="stylesheet">

  <!-- PrismJS (Syntax Highlighting) -->
  <link href="https://unpkg.com/prismjs@1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />

  <!-- AOS Animation -->
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

  <style>
    :root {
      --bg: #09090b;
      /* Zinc 950 */
      --surface: #121215;
      --surface-hover: #1c1c20;
      --border: rgba(255, 255, 255, 0.12);
      --primary: #f43f5e;
      /* Rose 500 */
      --primary-glow: rgba(244, 63, 94, 0.4);
      --secondary: #fb923c;
      /* Orange 400 */
      --text-main: #ededed;
      --text-secondary: #a1a1aa;
      --text-muted: #52525b;
      --font-main: 'Instrument Sans', sans-serif;
      --font-code: 'JetBrains Mono', monospace;
      --code-bg: #050505;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html {
      scroll-behavior: smooth;
    }

    /* Custom Scrollbar */
    ::-webkit-scrollbar {
      width: 10px;
      height: 10px;
    }

    ::-webkit-scrollbar-track {
      background: transparent;
    }

    ::-webkit-scrollbar-thumb {
      background: #333;
      border-radius: 5px;
      border: 2px solid var(--bg);
    }

    ::-webkit-scrollbar-thumb:hover {
      background: #555;
    }

    ::selection {
      background: rgba(244, 63, 94, 0.3);
      color: white;
    }

    body {
      font-family: var(--font-main), -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: var(--bg);
      color: var(--text-main);
      min-height: 100vh;
      overflow-x: hidden;
      -webkit-font-smoothing: antialiased;
    }

    /* Ambient Background Effects */
    .glow-bg {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100vh;
      /* Multi-layer glowing gradients */
      background:
        /* Primary Top Glow */
        radial-gradient(circle at 50% 0%, rgba(244, 63, 94, 0.15) 0%, transparent 60%),
        /* Secondary Blue Side Glow */
        radial-gradient(circle at 85% 30%, rgba(99, 102, 241, 0.08) 0%, transparent 50%),
        /* Subtle Grid Pattern */
        linear-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 1px),
        linear-gradient(90deg, rgba(255, 255, 255, 0.03) 1px, transparent 1px);

      background-size: 100% 100%, 100% 100%, 40px 40px, 40px 40px;
      pointer-events: none;
      z-index: 0;
    }

    /* Nav */
    nav {
      position: fixed;
      top: 24px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      align-items: center;
      gap: 2rem;
      background: rgba(18, 18, 21, 0.6);
      backdrop-filter: blur(16px);
      -webkit-backdrop-filter: blur(16px);
      border: 1px solid rgba(255, 255, 255, 0.08);
      padding: 0.75rem 2rem;
      border-radius: 100px;
      z-index: 100;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
    }

    .logo {
      font-weight: 700;
      font-size: 1.2rem;
      color: var(--text-main);
      text-decoration: none;
      letter-spacing: -0.02em;
    }

    .nav-links {
      display: flex;
      gap: 1.5rem;
    }

    .nav-links a {
      text-decoration: none;
      color: var(--text-secondary);
      font-size: 0.9rem;
      font-weight: 500;
      transition: color 0.2s;
    }

    .nav-links a:hover {
      color: var(--text-main);
    }

    .cta-btn {
      background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
      color: white;
      text-decoration: none;
      padding: 0.5rem 1.25rem;
      border-radius: 100px;
      font-size: 0.9rem;
      font-weight: 600;
      transition: transform 0.2s, box-shadow 0.2s;
    }

    .cta-btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 0 20px var(--primary-glow);
    }

    /* Hero */
    .hero {
      position: relative;
      z-index: 10;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      padding: 100px 1rem 2rem;
    }

    .hero h1 {
      font-size: 5rem;
      font-weight: 800;
      line-height: 1.1;
      margin-bottom: 1.5rem;
      letter-spacing: -0.04em;
      background: linear-gradient(to bottom right, #fff 30%, #a1a1aa 100%);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }

    .hero h1 span {
      background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }

    .hero p {
      font-size: 1.25rem;
      color: var(--text-secondary);
      max-width: 600px;
      margin: 0 auto 2.5rem auto;
      line-height: 1.6;
    }

    .install-box {
      background: rgba(10, 10, 12, 0.6);
      backdrop-filter: blur(12px);
      border: 1px solid var(--border);
      padding: 1rem 1.5rem;
      border-radius: 12px;
      font-family: var(--font-code);
      font-size: 0.95rem;
      color: var(--text-secondary);
      cursor: pointer;
      transition: all 0.2s;
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .install-box:hover {
      border-color: rgba(255, 255, 255, 0.2);
      background: rgba(255, 255, 255, 0.05);
    }

    .install-box span {
      color: var(--text-main);
    }

    .install-box .prefix {
      color: var(--border);
      margin-right: 0.5rem;
    }

    /* Comparison Section */
    .features-section {
      position: relative;
      z-index: 10;
      padding: 8rem 0;
      max-width: 1200px;
      margin: 0 auto;
    }

    .section-header {
      text-align: center;
      margin-bottom: 5rem;
    }

    .section-header h2 {
      font-size: 3rem;
      font-weight: 700;
      letter-spacing: -0.03em;
      margin-bottom: 1rem;
    }

    /* Glass Cards */
    .feature-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
      padding: 0 2rem;
    }

    .feature-card {
      background: rgba(18, 18, 21, 0.4);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border: 1px solid var(--border);
      padding: 2.5rem;
      border-radius: 24px;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
    }

    .feature-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 1px;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      opacity: 0;
      transition: opacity 0.3s;
    }

    .feature-card:hover::before {
      opacity: 1;
    }

    .feature-card:hover {
      transform: translateY(-5px);
      border-color: rgba(244, 63, 94, 0.4);
      box-shadow: 0 20px 40px -10px rgba(0, 0, 0, 0.3);
    }

    .feature-card h3 {
      font-size: 1.25rem;
      margin-bottom: 1rem;
      font-weight: 600;
    }

    .feature-card p {
      color: var(--text-secondary);
      line-height: 1.6;
    }

    /* Playground */
    .playground {
      max-width: 1400px;
      margin: 0 auto;
      padding: 0 2rem 8rem;
      position: relative;
      z-index: 10;
    }

    .playground-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 2rem;
      margin-top: 3rem;
    }

    .editor-box {
      background: rgba(5, 5, 5, 0.6);
      backdrop-filter: blur(12px);
      border: 1px solid var(--border);
      border-radius: 16px;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      min-height: 500px;
    }

    .editor-header {
      padding: 1rem 1.5rem;
      border-bottom: 1px solid var(--border);
      background: rgba(255, 255, 255, 0.02);
      font-family: var(--font-code);
      font-size: 0.8rem;
      color: var(--text-muted);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    textarea {
      flex: 1;
      background: transparent;
      border: none;
      padding: 1.5rem;
      color: var(--text-main);
      font-family: var(--font-code);
      font-size: 0.9rem;
      line-height: 1.6;
      resize: none;
      outline: none;
    }

    pre#css-output {
      margin: 0;
      padding: 1.5rem;
      background: transparent !important;
      color: #4ade80;
      /* Success green */
      font-family: var(--font-code);
      font-size: 0.9rem;
      overflow: auto;
      white-space: pre-wrap;
    }

    /* Footer */
    footer {
      border-top: 1px solid var(--border);
      padding: 4rem 2rem;
      text-align: center;
      position: relative;
      z-index: 10;
      background: rgba(9, 9, 11, 0.8);
    }

    footer a {
      color: var(--text-muted);
      text-decoration: none;
      margin: 0 1rem;
      transition: color 0.2s;
    }

    footer a:hover {
      color: var(--text-main);
    }

    @media (max-width: 768px) {
      .hero h1 {
        font-size: 3rem;
      }

      .playground-grid {
        grid-template-columns: 1fr;
      }

      nav {
        width: 90%;
        justify-content: space-between;
        padding: 1rem;
      }

      .nav-links {
        display: none;
      }
    }
  </style>
</head>

<body>
  <div class="glow-bg"></div>

  <nav>
    <a href="#" class="logo">üçÖ Tomato</a>
    <div class="nav-links">
      <a href="#features">Features</a>
      <a href="docs.html">Documentation</a>
      <a href="https://github.com/srivtx/tomato-css">GitHub</a>
    </div>
    <a href="docs.html#installation" class="cta-btn">Get Started</a>
  </nav>

  <section class="hero" data-aos="fade-up">
    <h1>Write CSS like<br>you <span>think</span>.</h1>
    <p>A human-friendly preprocessor that actually makes sense. Compile semantic, reusable components into optimized
      CSS.</p>

    <div class="install-box" onclick="copyInstall()">
      <span class="prefix">$</span>
      <span>npx @srivtx/tomato-css app.tom</span>
    </div>
  </section>

  <section id="features" class="features-section">
    <div class="section-header" data-aos="fade-up">
      <h2>Fresh Features</h2>
      <p style="color: var(--text-secondary)">Built for developers who love clean styling.</p>
    </div>

    <div class="feature-grid">
      <div class="feature-card" data-aos="fade-up" data-aos-delay="100">
        <h3>üì¶ Components</h3>
        <p>Define reusable style groups with <code>component btn:</code> and use them anywhere with
          <code>use btn</code>.
        </p>
      </div>
      <div class="feature-card" data-aos="fade-up" data-aos-delay="200">
        <h3>üé® Tailwind Colors</h3>
        <p>Full Tailwind color palette built-in. Just use <code>red-500</code>, <code>bg slate-900</code>, etc.</p>
      </div>
      <div class="feature-card" data-aos="fade-up" data-aos-delay="300">
        <h3>üß† Human Syntax</h3>
        <p>No colons, no semicolons. <code>pad 4</code>, <code>round lg</code>, <code>pointer</code>.</p>
      </div>
    </div>
  </section>

  <section class="playground">
    <div class="section-header" data-aos="fade-up">
      <h2>Try it Live</h2>
    </div>

    <div class="playground-grid">
      <!-- INPUT -->
      <div class="editor-box" data-aos="fade-right">
        <div class="editor-header">
          <span>app.tom</span>
          <span>Tomato CSS</span>
        </div>
        <!-- Default Value matches original demo -->
        <textarea id="tomato-input" spellcheck="false">component btn:
  pad 2 4
  round lg
  bold
  pointer
  smooth
  no border

.primary-btn:
  use btn
  bg rose-500
  color white
  shadow lg

.primary-btn:hover:
  bg rose-600
  shadow xl
</textarea>
      </div>

      <!-- OUTPUT -->
      <div class="editor-box" data-aos="fade-left">
        <div class="editor-header">
          <span>output.css</span>
          <span id="copy-css-btn" style="cursor: pointer; color: var(--primary); font-weight: 500;"
            onclick="copyCSS()">Copy CSS</span>
        </div>
        <pre id="css-output"></pre>
      </div>
    </div>
  </section>

  <footer>
    <p>Made with üçÖ by srivtx</p>
    <br>
    <a href="https://github.com/srivtx/tomato-css">GitHub</a>
    <a href="docs.html">Docs</a>
  </footer>

  <!-- Scripts -->
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script src="https://unpkg.com/prismjs@1.29.0/prism.js"></script>
  <script>
    AOS.init({ duration: 800, once: true });

    // Tomato Compiler Logic (Preserved)
    const COLORS = {
      'slate-50': '#f8fafc', 'slate-100': '#f1f5f9', 'slate-200': '#e2e8f0', 'slate-300': '#cbd5e1',
      'slate-400': '#94a3b8', 'slate-500': '#64748b', 'slate-600': '#475569', 'slate-700': '#334155',
      'slate-800': '#1e293b', 'slate-900': '#0f172a', 'slate-950': '#020617',
      'red-50': '#fef2f2', 'red-500': '#ef4444', 'red-600': '#dc2626',
      'orange-50': '#fff7ed', 'orange-500': '#f97316', 'orange-600': '#ea580c',
      'blue-50': '#eff6ff', 'blue-500': '#3b82f6', 'blue-600': '#2563eb',
      'green-50': '#f0fdf4', 'green-500': '#22c55e', 'green-600': '#16a34a',
      'purple-50': '#faf5ff', 'purple-500': '#a855f7', 'purple-600': '#9333ea',
      'violet-50': '#f5f3ff', 'violet-500': '#8b5cf6', 'violet-600': '#7c3aed',
      'pink-50': '#fdf2f8', 'pink-500': '#ec4899', 'pink-600': '#db2777',
      'rose-50': '#fff1f2', 'rose-500': '#f43f5e', 'rose-600': '#e11d48',
      'white': '#ffffff', 'black': '#000000', 'transparent': 'transparent'
    };

    const SPACING = { '0': '0', '1': '0.25rem', '2': '0.5rem', '3': '0.75rem', '4': '1rem', '5': '1.25rem', '6': '1.5rem', '8': '2rem', '10': '2.5rem', '12': '3rem', '16': '4rem' };
    const RADIUS = { 'sm': '0.125rem', 'md': '0.375rem', 'lg': '0.5rem', 'xl': '0.75rem', '2xl': '1rem', 'full': '9999px' };
    const SHADOWS = { 'sm': '0 1px 2px rgba(0,0,0,0.05)', 'md': '0 4px 6px rgba(0,0,0,0.1)', 'lg': '0 10px 15px rgba(0,0,0,0.1)', 'xl': '0 20px 25px rgba(0,0,0,0.1)' };

    function compile(source) {
      const lines = source.split('\n');
      const components = {};
      const styles = {};
      let currentComponent = null;
      let currentSelector = null;
      let currentNested = null;

      for (const line of lines) {
        const trimmed = line.trim();
        if (!trimmed || trimmed.startsWith('#') || trimmed.startsWith('//')) continue;

        const indent = line.search(/\S/);

        if (indent === 0 && /^component\s+[\w-]+:$/.test(trimmed)) {
          const name = trimmed.match(/^component\s+([\w-]+):$/)[1];
          currentComponent = name;
          components[name] = [];
          currentSelector = null;
          continue;
        }

        if (indent === 0 && /^[.#]?[\w-]+:$/.test(trimmed)) {
          currentSelector = trimmed.replace(':', '');
          styles[currentSelector] = { props: [], nested: {} };
          currentComponent = null;
          currentNested = null;
          continue;
        }

        if (indent > 0 && /^(hover|focus|active|disabled):$/.test(trimmed)) {
          if (currentSelector) {
            currentNested = trimmed.replace(':', '');
            styles[currentSelector].nested[currentNested] = [];
          }
          continue;
        }

        if (currentComponent && indent > 0) {
          components[currentComponent].push(trimmed);
        } else if (currentSelector && indent > 0) {
          if (currentNested) {
            styles[currentSelector].nested[currentNested].push(trimmed);
          } else {
            styles[currentSelector].props.push(trimmed);
          }
        }
      }

      let css = '';
      for (const [selector, block] of Object.entries(styles)) {
        const cssSelector = selector.startsWith('.') || selector.startsWith('#') ? selector :
          ['button', 'input', 'a', 'div', 'nav', 'header', 'footer'].includes(selector) ? selector : `.${selector}`;

        const expandProps = (props) => {
          const result = [];
          for (const prop of props) {
            if (prop.startsWith('use ')) {
              const name = prop.slice(4).trim();
              if (components[name]) result.push(...expandProps(components[name]));
            } else {
              result.push(prop);
            }
          }
          return result;
        };

        const compileProp = (p) => {
          p = p.replace(/([a-z]+-\d+|white|black)/g, m => COLORS[m] || m);

          if (p.startsWith('bg ')) return `background: ${p.slice(3)};`;
          if (p.startsWith('color ')) return `color: ${p.slice(6)};`;
          if (p.startsWith('pad ')) {
            const vals = p.slice(4).split(' ').map(v => SPACING[v] || v);
            return `padding: ${vals.join(' ')};`;
          }
          if (p === 'round' || p.startsWith('round ')) {
            const size = p === 'round' ? 'lg' : p.slice(6);
            return `border-radius: ${RADIUS[size] || size};`;
          }
          if (p === 'shadow' || p.startsWith('shadow ')) {
            const size = p === 'shadow' ? 'md' : p.slice(7);
            return `box-shadow: ${SHADOWS[size] || size};`;
          }
          if (p === 'bold') return 'font-weight: bold;';
          if (p === 'pointer') return 'cursor: pointer;';
          if (p === 'smooth') return 'transition: all 0.2s ease;';
          if (p === 'no border') return 'border: none;';
          if (p === 'row') return 'display: flex; flex-direction: row;';
          if (p === 'row spread') return 'display: flex; justify-content: space-between;';
          if (p === 'center all') return 'display: flex; justify-content: center; align-items: center;';
          if (p.includes(' ')) {
            const [prop, ...vals] = p.split(' ');
            return `${prop}: ${vals.join(' ')};`;
          }
          return null;
        };

        const mainProps = expandProps(block.props).map(compileProp).filter(Boolean);
        if (mainProps.length) {
          css += `${cssSelector} {\n  ${mainProps.join('\n  ')}\n}\n\n`;
        }

        for (const [pseudo, nestedProps] of Object.entries(block.nested)) {
          const compiled = expandProps(nestedProps).map(compileProp).filter(Boolean);
          if (compiled.length) {
            css += `${cssSelector}:${pseudo} {\n  ${compiled.join('\n  ')}\n}\n\n`;
          }
        }
      }

      return css.trim();
    }

    // Initialize playground
    const input = document.getElementById('tomato-input');
    const output = document.getElementById('css-output');

    function updateOutput() {
      try {
        output.textContent = compile(input.value);
      } catch (e) {
        output.textContent = '/* Error: ' + e.message + ' */';
      }
    }

    input.addEventListener('input', updateOutput);
    updateOutput();

    function copyCSS() {
      navigator.clipboard.writeText(output.textContent);
      const btn = document.getElementById('copy-css-btn');
      const original = btn.textContent;
      btn.textContent = '‚úì Copied!';
      setTimeout(() => btn.textContent = original, 2000);
    }

    function copyInstall() {
      navigator.clipboard.writeText('npx @srivtx/tomato-css app.tom');
      const box = document.querySelector('.install-box');
      box.style.borderColor = '#4ade80';
      const originalBg = box.style.background;
      box.style.background = 'rgba(74, 222, 128, 0.1)';

      setTimeout(() => {
        box.style.borderColor = '';
        box.style.background = originalBg;
      }, 1000);
    }</script>
</body>

</html>